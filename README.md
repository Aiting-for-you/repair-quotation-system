# ç»´ä¿®æŠ¥ä»·ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªå®Œæ•´çš„ç»´ä¿®æŠ¥ä»·ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«ç”¨æˆ·ç«¯ã€ç®¡ç†ç«¯å’Œåç«¯APIæœåŠ¡ã€‚ç³»ç»Ÿæ”¯æŒå­¦æ ¡ç»´ä¿®é¡¹ç›®ç®¡ç†ã€æŠ¥ä»·å•ç”Ÿæˆã€æ•°æ®ç»Ÿè®¡ç­‰åŠŸèƒ½ã€‚

## é¡¹ç›®æ¶æ„

### æ•´ä½“æ¶æ„
```
ç»´ä¿®æŠ¥ä»·ç®¡ç†ç³»ç»Ÿ
â”œâ”€â”€ å‰ç«¯å±‚
â”‚   â”œâ”€â”€ ç”¨æˆ·ç«¯ (frontend-user) - Vue 3 + TypeScript
â”‚   â””â”€â”€ ç®¡ç†ç«¯ (frontend-admin) - Vue 3 + TypeScript
â”œâ”€â”€ åç«¯å±‚
â”‚   â””â”€â”€ APIæœåŠ¡ (backend) - NestJS + TypeScript
â””â”€â”€ æ•°æ®å±‚
    â””â”€â”€ MySQL 8.0 æ•°æ®åº“
```

### é¡¹ç›®ç»“æ„
```
system/
â”œâ”€â”€ backend/                 # åç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ auth/           # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ school/         # å­¦æ ¡ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ repair-item/    # ç»´ä¿®é¡¹ç›®æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ quotation/      # æŠ¥ä»·å•æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ statistics/     # ç»Ÿè®¡æ¨¡å—
â”‚   â”‚   â””â”€â”€ database/       # æ•°æ®åº“é…ç½®å’Œç§å­æ•°æ®
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ .env               # ç¯å¢ƒé…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ frontend-user/          # ç”¨æˆ·ç«¯å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/    # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ api/          # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ stores/       # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ router/       # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ frontend-admin/         # ç®¡ç†ç«¯å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/        # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ api/          # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ stores/       # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ router/       # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ mysql/                  # MySQLæ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ import_data.py         # æ•°æ®å¯¼å…¥è„šæœ¬
â”œâ”€â”€ *.csv                  # ç¤ºä¾‹æ•°æ®æ–‡ä»¶
â””â”€â”€ README.md
```

## åŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·ç«¯ (frontend-user)
- ğŸ« å­¦æ ¡é€‰æ‹©å’Œä¿¡æ¯æŸ¥çœ‹
- ğŸ”§ ç»´ä¿®é¡¹ç›®æµè§ˆå’Œæœç´¢
- ğŸ’° ç»´ä¿®é¡¹ç›®æŠ¥ä»·å’Œè®¡ä»·å•ç”Ÿæˆ
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯è®¿é—®
- ğŸ“‹ æŠ¥ä»·å•å†å²è®°å½•æŸ¥çœ‹

### ç®¡ç†ç«¯ (frontend-admin)
- ğŸ¢ å­¦æ ¡ä¿¡æ¯ç®¡ç† (å¢åˆ æ”¹æŸ¥)
- ğŸ› ï¸ ç»´ä¿®é¡¹ç›®ç®¡ç† (å¢åˆ æ”¹æŸ¥)
- ğŸ“Š æŠ¥ä»·å•å®¡æ ¸å’Œç®¡ç†
- ğŸ“ˆ æ•°æ®ç»Ÿè®¡å’ŒæŠ¥è¡¨å±•ç¤º
- ğŸ“¤ Excelæ•°æ®å¯¼å‡ºåŠŸèƒ½
- ğŸ“¥ CSVæ‰¹é‡å¯¼å…¥åŠŸèƒ½

### åç«¯API (backend)
- ğŸš€ RESTful APIè®¾è®¡
- ğŸ” JWTèº«ä»½è®¤è¯ç³»ç»Ÿ
- ğŸ—„ï¸ MySQLæ•°æ®åº“é›†æˆ
- âœ… æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†
- ğŸ“ æ–‡ä»¶ä¸Šä¼ å’Œå¤„ç†
- ğŸ“Š ç»Ÿè®¡æ•°æ®è®¡ç®—

## æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Vue 3.x
- **è¯­è¨€**: TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **UIç»„ä»¶åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4
- **HTTPå®¢æˆ·ç«¯**: Axios

### åç«¯æŠ€æœ¯
- **æ¡†æ¶**: NestJS
- **è¯­è¨€**: TypeScript
- **ORM**: TypeORM
- **æ•°æ®åº“**: MySQL 8.0
- **éªŒè¯**: class-validator
- **æ–‡ä»¶å¤„ç†**: Multer
- **Excelå¤„ç†**: ExcelJS

## éƒ¨ç½²åŸºæœ¬æ¡ä»¶

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11, macOS 10.15+, Ubuntu 18.04+
- **Node.js**: 16.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: 8.x æˆ–æ›´é«˜ç‰ˆæœ¬ (æˆ– yarn 1.22+)
- **MySQL**: 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜**: æœ€å°‘ 4GB RAM
- **å­˜å‚¨**: æœ€å°‘ 2GB å¯ç”¨ç©ºé—´

### å¼€å‘ç¯å¢ƒè¦æ±‚
- **ä»£ç ç¼–è¾‘å™¨**: VS Code (æ¨è) æˆ–å…¶ä»–æ”¯æŒTypeScriptçš„ç¼–è¾‘å™¨
- **æµè§ˆå™¨**: Chrome 90+, Firefox 88+, Safari 14+
- **Git**: ç”¨äºç‰ˆæœ¬æ§åˆ¶

## è¯¦ç»†å¯åŠ¨æµç¨‹

### 1. ç¯å¢ƒå‡†å¤‡

#### 1.1 å®‰è£…Node.js
```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬
node --version  # åº”è¯¥ >= 16.0.0
npm --version   # åº”è¯¥ >= 8.0.0
```

#### 1.2 å®‰è£…MySQL
1. ä¸‹è½½å¹¶å®‰è£… MySQL 8.0
2. å¯åŠ¨MySQLæœåŠ¡
3. åˆ›å»ºæ•°æ®åº“:
```sql
CREATE DATABASE repair_system CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 2. é¡¹ç›®å…‹éš†å’Œé…ç½®

#### 2.1 å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/Aiting-for-you/repair-quotation-system.git
cd repair-quotation-system
```

#### 2.2 åç«¯é…ç½®
```bash
cd backend

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env  # å¦‚æœæ²¡æœ‰.envæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ª
```

ç¼–è¾‘ `backend/.env` æ–‡ä»¶:
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=your_mysql_password
DB_DATABASE=repair_system

# ä½¿ç”¨MySQLä½œä¸ºå¼€å‘æ•°æ®åº“
DB_TYPE=mysql

# åº”ç”¨é…ç½®
PORT=3000
NODE_ENV=development
```

### 3. å¯åŠ¨æœåŠ¡

#### 3.1 å¯åŠ¨åç«¯æœåŠ¡
```bash
cd backend
npm run start:dev
```

å¯åŠ¨æˆåŠŸåä¼šçœ‹åˆ°:
```
åº”ç”¨ç¨‹åºè¿è¡Œåœ¨: http://localhost:3000
æ•°æ®åº“åˆå§‹åŒ–å®Œæˆï¼
```

#### 3.2 å¯åŠ¨ç”¨æˆ·ç«¯å‰ç«¯
```bash
# æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£
cd frontend-user
npm install
npm run dev
```

å¯åŠ¨æˆåŠŸåä¼šçœ‹åˆ°:
```
  Local:   http://localhost:5173/
  Network: use --host to expose
```

#### 3.3 å¯åŠ¨ç®¡ç†ç«¯å‰ç«¯
```bash
# æ–°å¼€ä¸€ä¸ªç»ˆç«¯çª—å£
cd frontend-admin
npm install
npm run dev
```

å¯åŠ¨æˆåŠŸåä¼šçœ‹åˆ°:
```
  Local:   http://localhost:3001/
  Network: use --host to expose
```

### 4. è®¿é—®ç³»ç»Ÿ

- **ç”¨æˆ·ç«¯**: http://localhost:5173
- **ç®¡ç†ç«¯**: http://localhost:3001
- **åç«¯API**: http://localhost:3000
- **APIæ–‡æ¡£**: http://localhost:3000/api (å¦‚æœé…ç½®äº†Swagger)

### 5. é»˜è®¤ç™»å½•ä¿¡æ¯

ç®¡ç†ç«¯é»˜è®¤ç™»å½•è´¦å·:
- **ç”¨æˆ·å**: admin
- **å¯†ç **: admin123

## æ•°æ®åº“è¯´æ˜

### æ•°æ®è¡¨ç»“æ„
- `schools` - å­¦æ ¡ä¿¡æ¯è¡¨
- `repair_items` - ç»´ä¿®é¡¹ç›®è¡¨
- `quotations` - æŠ¥ä»·å•ä¸»è¡¨
- `quotation_details` - æŠ¥ä»·å•è¯¦æƒ…è¡¨

### åˆå§‹æ•°æ®
ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºç¤ºä¾‹æ•°æ®ï¼ŒåŒ…æ‹¬:
- 3æ‰€ç¤ºä¾‹å­¦æ ¡
- æ¯æ‰€å­¦æ ¡çš„ç»´ä¿®é¡¹ç›®
- ç¤ºä¾‹æŠ¥ä»·å•æ•°æ®

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½
1. åç«¯: åœ¨å¯¹åº”æ¨¡å—æ·»åŠ Controllerã€Serviceã€Entity
2. å‰ç«¯: åœ¨viewsä¸­æ·»åŠ é¡µé¢ï¼Œåœ¨apiä¸­æ·»åŠ æ¥å£è°ƒç”¨
3. æ›´æ–°è·¯ç”±é…ç½®

### æ•°æ®å¯¼å…¥
æ”¯æŒCSVæ ¼å¼çš„ç»´ä¿®é¡¹ç›®æ‰¹é‡å¯¼å…¥ï¼Œæ ¼å¼è¦æ±‚:
```csv
åºå·,ç»´ä¿®é¡¹ç›®åç§°,å•ä½,å•ä»·
1,æ•™å®¤é—¨çª—ç»´ä¿®,æ‰‡,150.00
2,è¯¾æ¡Œæ¤…ç»´ä¿®,å¥—,80.00
```

### APIæ¥å£
ä¸»è¦APIç«¯ç‚¹:
- `GET /api/schools` - è·å–å­¦æ ¡åˆ—è¡¨
- `GET /api/repair-items` - è·å–ç»´ä¿®é¡¹ç›®
- `POST /api/quotations` - åˆ›å»ºæŠ¥ä»·å•
- `GET /api/statistics` - è·å–ç»Ÿè®¡æ•°æ®

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # Windows
   netstat -ano | findstr :3000
   taskkill /PID <PID> /F
   
   # macOS/Linux
   lsof -ti:3000 | xargs kill -9
   ```

2. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
   - éªŒè¯.envæ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®
   - ç¡®è®¤æ•°æ®åº“ç”¨æˆ·æƒé™

3. **ä¾èµ–å®‰è£…å¤±è´¥**
   ```bash
   # æ¸…é™¤ç¼“å­˜é‡æ–°å®‰è£…
   npm cache clean --force
   rm -rf node_modules package-lock.json
   npm install
   ```

4. **å‰ç«¯é¡µé¢ç©ºç™½**
   - æ£€æŸ¥åç«¯APIæ˜¯å¦æ­£å¸¸è¿è¡Œ
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
   - ç¡®è®¤APIæ¥å£åœ°å€é…ç½®æ­£ç¡®

## ç”Ÿäº§éƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
# åç«¯
cd backend
npm run build
npm run start:prod

# å‰ç«¯
cd frontend-user
npm run build

cd frontend-admin
npm run build
```

### ç¯å¢ƒå˜é‡é…ç½®
ç”Ÿäº§ç¯å¢ƒéœ€è¦ä¿®æ”¹ä»¥ä¸‹é…ç½®:
- æ•°æ®åº“è¿æ¥ä¿¡æ¯
- JWTå¯†é’¥
- CORSåŸŸåè®¾ç½®
- æ–‡ä»¶ä¸Šä¼ è·¯å¾„

## è®¸å¯è¯

MIT License

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»:
- æäº¤ Issue
- å‘é€é‚®ä»¶
- é¡¹ç›®è®¨è®ºåŒº

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰è¯·ç¡®ä¿è¿›è¡Œå……åˆ†çš„å®‰å…¨æ€§æµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–ã€‚